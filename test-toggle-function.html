<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>折叠功能测试</title>
    <link rel="stylesheet" href="customs-product-management.css">
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-info {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .search-row {
            border: 1px solid #ddd;
            margin: 5px 0;
            padding: 10px;
            background: #f9f9f9;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-info">
            <h2>查询条件折叠功能测试</h2>
            <p>测试说明：点击"收起"按钮，应该隐藏除第一行外的所有查询行，并将按钮文本变为"展开"</p>
        </div>

        <div class="search-section">
            <div class="search-form">
                <!-- 第一行：4个组件 -->
                <div class="search-row">
                    <div class="form-group">
                        <label>第一行 - 国内SKU：</label>
                        <input type="text" placeholder="这是第一行，应该始终显示">
                    </div>
                    <div class="form-group">
                        <label>国际SKU：</label>
                        <input type="text" placeholder="第一行组件">
                    </div>
                    <div class="form-group">
                        <label>海关编码：</label>
                        <input type="text" placeholder="第一行组件">
                    </div>
                    <div class="form-group">
                        <label>商品标题：</label>
                        <input type="text" placeholder="第一行组件">
                    </div>
                </div>
                
                <!-- 第二行：4个组件 -->
                <div class="search-row">
                    <div class="form-group">
                        <label>第二行 - 数据来源：</label>
                        <select>
                            <option>Excel导入</option>
                            <option>WIMP</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>服务商：</label>
                        <select>
                            <option>科橘</option>
                            <option>猎芯</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>认证状态：</label>
                        <select>
                            <option>待提交</option>
                            <option>已提交</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>是否产生订单：</label>
                        <select>
                            <option>是</option>
                            <option>否</option>
                        </select>
                    </div>
                </div>
                
                <!-- 第三行：4个组件 -->
                <div class="search-row">
                    <div class="form-group">
                        <label>第三行 - 关务状态：</label>
                        <select>
                            <option>待提交</option>
                            <option>待确认</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>要素状态：</label>
                        <select>
                            <option>待确认</option>
                            <option>已确认</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>首次订单时间：</label>
                        <input type="date">
                    </div>
                    <div class="form-group">
                        <label>创建人ERP：</label>
                        <input type="text" placeholder="创建人ERP">
                    </div>
                </div>
                
                <!-- 第四行：4个组件 -->
                <div class="search-row">
                    <div class="form-group">
                        <label>第四行 - 创建时间：</label>
                        <input type="date">
                    </div>
                    <div class="form-group">
                        <label>评估截止时间：</label>
                        <input type="date">
                    </div>
                    <div class="form-group">
                        <label>其他字段1：</label>
                        <input type="text" placeholder="其他字段">
                    </div>
                    <div class="form-group">
                        <label>其他字段2：</label>
                        <input type="text" placeholder="其他字段">
                    </div>
                </div>
                
                <!-- 查询按钮组 -->
                <div class="search-actions">
                    <div class="search-buttons">
                        <button class="btn btn-primary">查询</button>
                        <button class="btn btn-secondary">重置</button>
                        <a href="javascript:void(0)" class="toggle-link" id="search-toggle" onclick="toggleSearchForm()">
                            <span id="toggle-text">收起</span>
                            <span id="toggle-icon">▲</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-info" style="margin-top: 20px;">
            <h3>测试步骤：</h3>
            <ol>
                <li>点击"收起"按钮</li>
                <li>验证第2、3、4行是否被隐藏</li>
                <li>验证按钮文本是否变为"展开"，图标变为"▼"</li>
                <li>再次点击"展开"按钮</li>
                <li>验证所有行是否重新显示</li>
                <li>验证按钮文本是否变为"收起"，图标变为"▲"</li>
            </ol>
        </div>
    </div>

    <script src="customs-product-management.js"></script>
    <script>
        // 测试日志
        console.log('折叠功能测试页面已加载');
        
        // 监听折叠按钮点击
        document.getElementById('search-toggle').addEventListener('click', function() {
            console.log('折叠按钮被点击');
            setTimeout(() => {
                const toggleText = document.getElementById('toggle-text').textContent;
                const toggleIcon = document.getElementById('toggle-icon').textContent;
                console.log('当前状态 - 文本:', toggleText, '图标:', toggleIcon);
                
                const searchRows = document.querySelectorAll('.search-row');
                console.log('查询行总数:', searchRows.length);
                searchRows.forEach((row, index) => {
                    console.log(`第${index + 1}行显示状态:`, row.style.display || 'visible');
                });
            }, 100);
        });
    </script>
</body>
</html>